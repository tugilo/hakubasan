---
marp: true
theme: default
paginate: true
style: |
  section {
    background-color: #fff;
    font-family: "Hiragino Sans", "Meiryo", sans-serif;
    font-size: 20px;
  }
  h1 {
    color: #0066cc;
    font-size: 28px;
  }
  h2 {
    color: #0066cc;
    font-size: 24px;
  }
  h3 {
    font-size: 20px;
  }
  .company-info {
    position: absolute;
    bottom: 60px;  
    right: 40px;
    text-align: right;
    font-size: 24px;
    color: #0066cc;
  }
  .date {
    font-size: 18px;
  }
---

# 白馬館プロジェクト要件整理　宿泊編

<div class="company-info">
  アデリープランニング株式会社<br>
  <span class="date">2024年10月10日</span>
</div>

---

# 宿泊予約システム要件

## 1. 宿泊予約の変更機能
- **日付変更・人数変更**が必要。キャンセル＆リブックを避ける設計。
- **バックエンド処理**として、自動キャンセルと再予約プロセスを吸収し、ユーザーにシームレスな体験を提供。
- 利用者には一貫した「変更完了」だけが表示され、リソース管理は自動化。

## 2. リブック防止機能
- **既存予約の変更を優先**し、キャンセルプロセスを極力避ける。
- バックエンドでの処理は自動化し、顧客が再予約プロセスを意識することなく予約変更を完了できる。

---

## 3. 緊急対応とオーバーブッキング
- 山小屋の特性を考慮し、予約が**100％を超えても柔軟に対応**するシステム設計。
- **避難所機能**を備え、トラブルや体調不良により系列宿泊施設へ移動可能にする。
- オーバーブッキング時も、リソース（食事、サービス）を効率的に管理し、対応可能な体制を整える。

## 4. QRコードによるチェックイン・チェックアウト
- 宿泊施設での迅速な手続きを可能にするため、**QRコード**を利用してチェックイン・チェックアウトを実装。

---

# 部屋タイプによる相部屋と人数制限

## 1. 相部屋フラグの設定
- **部屋タイプ**ごとに、相部屋が可能かどうかの**フラグを設定**。
  - 例: 2人部屋に対して、相部屋設定が不可の場合は相部屋を避ける。
  
## 2. 人数制限の設定
- **部屋ごとの人数制限**を設定し、収容可能人数をシステム上で制御。
  - 例: 2人部屋に6人が泊まることがないように、制限付きの部屋タイプを設定可能。
- 人数制限のない部屋タイプも作成し、柔軟な対応を可能にする。

---

# レンタル機器・アクティビティ予約との連動

## 1. 在庫確認と選択
- 予約日変更時、顧客が**レンタル機器やアクティビティ**も一緒に予約している場合、その在庫がある日をシステム上で明確に選択可能とする。
- **カレンダー表示**を通じて、レンタル機器やアクティビティの在庫状況を視覚化し、利用可能な日を選択できるようにする。

## 2. 在庫不足時の確認プロセス
- **利用者の都合で在庫がなくてもどうしても変更したい場合**には、在庫不足でも承諾を得た上で予約変更を許可。
- 在庫不足時には、**「この日は〜の在庫がありませんが、変更してもよろしいですか？」**という確認画面を表示し、顧客の承諾を得た上で予約を変更するプロセスを導入。

---

# 在庫管理と山小屋間の融通

## 1. 在庫情報の共有
- 系列の山小屋間で**在庫情報を共有**し、リソースの利用状況をリアルタイムで確認できるようにする。
- 各山小屋のリソース（レンタル機器やアクティビティの設備）を系列間で調整し、在庫不足時に柔軟に対応できる。

## 2. リソースの融通
- 在庫が不足している場合でも、**山小屋間でリソースを融通**し合い、人力で運搬するなどの対応をしやすい仕組みを構築する。
- これにより、柔軟なリソース管理を可能にし、顧客満足度の向上を図る。

---

# 白馬間様に決めていただきたいこと

## 1. 部屋タイプと人数制限のポリシー
- **相部屋が可能な部屋**と**人数制限のない部屋**をどう設定するか。
- 特定の部屋で相部屋を許可するかどうかの基準を決定し、必要に応じて人数制限を明確化。

## 2. 予約変更ポリシー
- **予約変更の可否や条件**について、在庫が不足していても顧客のリクエストに応じるかどうか。
- 変更可能な期間（例: 宿泊予定日の5日前までなど）を決定し、その条件をシステムに反映させる。

## 3. 在庫不足時の承諾フロー
- 在庫が不足している場合に、**自動で予約を拒否するのか**、あるいは**顧客が承諾すれば予約を変更可能にするのか**を決定。
- 承諾が必要な場合のメッセージや通知方法を決定。

## 4. 山小屋間の在庫リソース融通ルール
- 系列山小屋間での**リソースの融通条件**を決定。
- 在庫不足時の対応ルール（例えば、リソースの運搬が可能かどうか）を明確にする。

---

# エクステンション要件

## 1. Magetop Booking and Reservation (Premiumプラン)
- **機能**: 宿泊予約の変更が可能で、日付変更がキャンセル&リブックを必要とせず実行可能。
- **複数日予約対応**: この機能を活用し、顧客が第一〜第三希望の日程を選び、管理者が調整することが可能。また、この機能は**アクティビティの仮予約**にも応用できる。
- **日付変更**: システムがバックエンドで処理を吸収し、予約変更をスムーズに行える。

---

# 総括

- **白馬間様には、相部屋や人数制限、予約変更のポリシー**を決定する必要がある。
- **レンタル機器やアクティビティの在庫確認**機能を強化し、在庫不足時には顧客に確認を求めるプロセスを導入する。
- **系列の山小屋間での在庫共有**により、リソースの効率的な融通が可能になり、全体の運営効率が向上する。