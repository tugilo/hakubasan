---
marp: true
theme: default
paginate: true
style: |
  section {
    background-color: #fff;
    font-family: "Hiragino Sans", "Meiryo", sans-serif;
    font-size: 20px;
  }
  h1 {
    color: #0066cc;
    font-size: 28px;
  }
  h2 {
    color: #0066cc;
    font-size: 24px;
  }
  h3 {
    font-size: 20px;
  }
  .company-info {
    position: absolute;
    bottom: 60px;  
    right: 40px;
    text-align: right;
    font-size: 24px;
    color: #0066cc;
  }
  .date {
    font-size: 18px;
  }
---

# 白馬館プロジェクト要件整理　宿泊編

<div class="company-info">
  アデリープランニング株式会社<br>
  <span class="date">2024年10月10日</span>
</div>

---

# 宿泊予約システム要件

### 1. 宿泊予約の変更機能

1.1 **日付変更・人数変更**  
- キャンセル＆リブックを避け、既存予約をシームレスに変更可能な設計。
- 利用者は「変更完了」だけを確認し、リソース管理はシステム側で自動化。

1.2 **バックエンド処理**  
- 自動キャンセルと再予約プロセスを吸収し、予約変更に伴う手間を減らす。

---

### 2. 緊急対応とオーバーブッキング

2.1 **オーバーブッキング対応**  
- 山小屋の特性を考慮し、予約が100％を超えても柔軟に対応するシステム設計。

2.2 **避難所機能**  
- トラブルや体調不良により、系列宿泊施設へ移動可能とする。

2.3 **リソース管理**  
- 食事やサービスなどのリソースを効率的に管理し、オーバーブッキング時の対応を容易に。

---

### 3. QRコードによるチェックイン・チェックアウト

3.1 **QRコード対応**  
- 宿泊施設での迅速なチェックイン・チェックアウトをQRコードを利用して実現する。

---

### 4. 部屋料金の変更対応（固定価格体系）

4.1 **シーズン料金・プラン料金の対応**  
- システムは**設定されたシーズン料金やプラン変更**に伴い、料金変更に対応。差額を自動計算し、顧客に通知する機能を持つ。ダイナミックプライシングは使用せず、設定済みの料金に基づいて対応。

4.2 **差額通知と決済処理**  
- 料金差が発生した場合、システムは差額を顧客に通知し、クレジットカードなどを通じた決済処理を自動化。

---

### 5. 部屋タイプによる相部屋と人数制限

5.1 **相部屋フラグの設定**  
- **部屋タイプ**ごとに、相部屋が可能かどうかをシステムで設定可能。
  - 例: 2人部屋に対して、相部屋設定が不可の場合は相部屋を避ける。

5.2 **人数制限の設定（手動変更可能）**  
- **部屋ごとの人数制限**を設定し、収容可能人数をシステム上で制御。  
  - 例: 600人収容できる大部屋を通常時は400人として設定し、直前や緊急時には手動で600人に変更可能な設定を導入。

---

### 6. レンタル機器・アクティビティ予約との連動

6.1 **在庫確認とカレンダー表示**  
- 予約日変更時、顧客が**レンタル機器やアクティビティ**も一緒に予約している場合、その在庫がある日をシステム上で明確に選択可能にする。

6.2 **在庫不足時の確認プロセス**  
- **利用者の都合で在庫がない場合**でも、承諾を得た上で予約変更を許可するプロセスを導入。  
- **「この日は〜の在庫がありませんが、変更してもよろしいですか？」**という確認メッセージを表示し、顧客の承諾を得る。

---

### 7. 在庫管理と山小屋間の融通

7.1 **在庫情報の共有**  
- 系列山小屋間で在庫情報を共有し、リソースの利用状況をリアルタイムで確認可能にする。

7.2 **リソースの融通**  
- 在庫が不足している場合、系列山小屋間でリソースを融通し合い、柔軟な対応を可能にする。

---

# 白馬館様に決めていただきたいこと

### 8.1 部屋タイプと人数制限のポリシー
- **相部屋可能な部屋**と**人数制限のない部屋**をどう設定するか。  
- 特定の部屋で相部屋を許可するかどうかの基準を決定。

### 8.2 予約変更ポリシー
- **予約変更の条件**について、在庫が不足していても顧客のリクエストに応じるかどうか。  
- 変更可能な期間（例: 宿泊予定日の5日前までなど）を設定し、システムに反映する。

### 8.3 在庫不足時の承諾フロー
- 在庫が不足している場合、**自動で予約を拒否するのか**、**顧客が承諾すれば予約変更可能にするのか**を決定。

### 8.4 山小屋間の在庫リソース融通ルール
- 系列山小屋間でのリソース融通の条件を決定。  
- 在庫不足時の対応ルールを明確化（例: リソースの運搬が可能かどうか）。

---

# エクステンション要件

### 9.1 Magetop Booking and Reservation (Premiumプラン)
- **機能**: 宿泊予約の変更が可能で、日付変更がキャンセル&リブックを必要とせずに実行可能。  
- **複数日予約対応**: 顧客の希望日程を取得し、管理者が調整可能。また、アクティビティ仮予約にも対応。  
- **料金変更対応**: 設定されたシーズン料金やプラン変更に基づく料金変更をシステムで自動計算し、差額を顧客に通知。

---

# 総括

- **白馬館様には、相部屋や人数制限、予約変更のポリシー**を決定していただく必要があります。  
- **在庫確認機能**を強化し、在庫不足時には顧客に確認を求めるプロセスを導入。  
- **系列の山小屋間での在庫共有**により、リソースの融通を可能にし、運営効率を向上させます。